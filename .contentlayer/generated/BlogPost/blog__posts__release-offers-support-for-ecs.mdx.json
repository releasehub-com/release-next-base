{
  "title": "Release Offers Support for ECS",
  "summary": "Release now supports the use of IaC (Infrastructure as Code: Terraform, Pulumi, etc) to create resources in ECS",
  "publishDate": "Tue Nov 29 2022 18:35:10 GMT+0000 (Coordinated Universal Time)",
  "author": "erik-landerholm",
  "readingTime": 4,
  "categories": [
    "platform-engineering",
    "kubernetes"
  ],
  "mainImage": "/blog-images/24e9b4247f1c58e1a7bc5c20c67777fb.jpg",
  "imageAlt": "A group of colorful containers",
  "showCTA": true,
  "ctaCopy": "Empower efficient ECS resource management with Release's unified interface for seamless deployment and monitoring.",
  "ctaLink": "https://release.com/signup?utm_source=blog&utm_medium=cta&utm_campaign=blog-cta&utm_content=release-offers-support-for-ecs",
  "relatedPosts": [
    ""
  ],
  "ogImage": "/blog-images/24e9b4247f1c58e1a7bc5c20c67777fb.jpg",
  "excerpt": "Release now supports the use of IaC (Infrastructure as Code: Terraform, Pulumi, etc) to create resources in ECS",
  "tags": [
    "platform-engineering",
    "kubernetes"
  ],
  "ctaButton": "Try Release for Free",
  "body": {
    "raw": "\nComplex applications on AWS frequently combine not only the core code but also connections to resources and dependencies (such as ECS Tasks and Lambdas). We're excited to announce support for ECS tasks! Development, testing, and production of complex apps can now be managed through our newest Release update. This latest update includes support for the use of IaC (Infrastructure as Code, for example, Terraform and Pulumi) to create resources in ECS, which you can manage in Release right alongside your EKS resources. In this post, we'll show you some simple set-up steps to add ECS resources to Release, access them through the terminal, and view their logs.\n\nRelease is a Kubernetes-first platform, but we have many customers that have described their environments in detail with an IaC and would like their environments to match their production environments as closely as possible. With our support for ECS you can now view and manage your ECS and EKS resources through Release's single administration interface. Release automatically tags and configures your ECS resources if you use our Infrastructure Runner, but we also allow you to tag and configure any ECS resources and manage them in Release, regardless of how they were deployed.\n\n### AWS ECS Task Support\n\nThe first supported cloud resources are AWS ECS Tasks, but more resource types will be supported soon. Let us know what cloud resources you'd like to see supported!\n\n### Cloud Resources\n\nAfter tagging a resource, it will show up on the Environment page in the Cloud Resources section, below your Instances.\n\n![](/blog-images/4734bb86d72d86a67606a7548656013e.png)\n\n_  \nCloud Resources like this ECS Task are listed on the environment page in a section below Instances. ECS Tasks support Terminal and Logs, which you launch by clicking the corresponding button._\n\n### Interacting with Cloud Resources\n\nCurrently, once you've tagged them, ECS Tasks support a couple of actions: Terminal and Logs (note the Terminal and Logs buttons in the previous screenshot).\n\nYou can launch a web terminal into the task containers by clicking the **Terminal** button:\n\n![](/blog-images/fbf49694fb352b4223c12dc6f30ea402.png)\n\nAnd you can view container logs by clicking the **Logs** button:\n\n![](/blog-images/64a479f61dc2158839d8f73c601a1be9.png)\n\n### How to add Cloud Resources\n\nTo add a cloud resource to your Release environments, you'll need to add a couple of tags/labels to that resource in AWS or GCP.\n\nTwo tags with values are required:\n\n| Tag Key               | Tag Value                | Location in UI                                                                             | Env variable                                                   |\n| --------------------- | ------------------------ | ------------------------------------------------------------------------------------------ | -------------------------------------------------------------- |\n| releasehub.com/app    | name                     | Top of the environment page. In the screenshot below, the app name is `example-voting-app` | `RELEASE_APP_NAME` (see default Release environment variables) |\n| releasehub.com/env-id | (the environment handle) | In the screenshot below, the environment handle is `ted3bff`                               | `RELEASE_ENV_ID` (see default Release environment variables)   |\n\n![](/blog-images/ca4729f2662588d2986369bd3eab969f.png)\n\nAWS Documentation can be found [here](https://docs.aws.amazon.com/AmazonECS/latest/developerguide/ecs-using-tags.html).\n\n### How to Configure the Logs\n\nIn order to send your ECS task logs to the Release log viewer, you must configure your ECS tasks to use the awslogs log driver:\n\nYou can specify the log driver in the task definition. Inside each entry in containerDefinitions, update (or add) the logConfiguration key to specify the logDriver and options. Options must specify awslogs-group, and awslogs-stream-prefix. The logDriver must be awslogs, but you may choose your own group and stream-prefix.\n\nThat section of your task definition should look something like this when you're done:\n\n```yaml\n{\n  \"containerDefinitions\":\n    [\n      {\n        \"logConfiguration\":\n          {\n            \"logDriver\": \"awslogs\",\n            \"options\":\n              {\n                \"awslogs-group\": \"firelens-container\",\n                \"awslogs-region\": \"us-west-2\",\n                \"awslogs-create-group\": \"true\",\n                \"awslogs-stream-prefix\": \"firelens\",\n              },\n          },\n      },\n    ],\n}\n```\n\nFor more details, check out the [AWS documentation on using the awslogs log driver](https://docs.aws.amazon.com/AmazonECS/latest/developerguide/using_awslogs.html#specify-log-config).\n\n### How to Configure the Terminal\n\nThe following requirements must be met before being able to terminal into any ECS task:\n\n1.  ECS Exec needs to be enabled for the task. ([more info](https://docs.aws.amazon.com/AmazonECS/latest/developerguide/ecs-exec.html#ecs-exec-enabling))\n2.  ECS Exec IAM permissions need to be added for the task. ([more info](https://docs.aws.amazon.com/AmazonECS/latest/developerguide/ecs-exec.html#ecs-exec-required-iam-permissions))\n\nFor more details, check out the [AWS documentation on enabling ECS Exec](https://docs.aws.amazon.com/AmazonECS/latest/developerguide/ecs-exec.html) and the best practices around it.\n\nAfter configuring the ECS task, use the Cloud Resources refresh button and you should be able to choose the container to terminal into. Note that Release will gray out the terminal button for containers that are not running or tasks that do not have ECS Exec enabled.\n\n![](/blog-images/3d39dc71386de1d85df54a097a497bd3.png)\n\n### Try it Yourself\n\nAt Release we always try to support the infrastructure our customers have in place while allowing them to take advantage of any new offerings from AWS. If you would like to manage your containers, regardless of which container management service you use, read through our [documentation](https://docs.releasehub.com/reference-documentation/cloud-resources) and/or schedule a [demo](https://releasehub.com/book-a-demo)!\n",
    "code": "var Component=(()=>{var h=Object.create;var a=Object.defineProperty;var u=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var g=Object.getPrototypeOf,p=Object.prototype.hasOwnProperty;var f=(o,e)=>()=>(e||o((e={exports:{}}).exports,e),e.exports),b=(o,e)=>{for(var t in e)a(o,t,{get:e[t],enumerable:!0})},i=(o,e,t,s)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let r of m(e))!p.call(o,r)&&r!==t&&a(o,r,{get:()=>e[r],enumerable:!(s=u(e,r))||s.enumerable});return o};var w=(o,e,t)=>(t=o!=null?h(g(o)):{},i(e||!o||!o.__esModule?a(t,\"default\",{value:o,enumerable:!0}):t,o)),y=o=>i(a({},\"__esModule\",{value:!0}),o);var l=f((T,c)=>{c.exports=_jsx_runtime});var v={};b(v,{default:()=>k,frontmatter:()=>C});var n=w(l()),C={title:\"Release Offers Support for ECS\",summary:\"Release now supports the use of IaC (Infrastructure as Code: Terraform, Pulumi, etc) to create resources in ECS\",publishDate:\"Tue Nov 29 2022 18:35:10 GMT+0000 (Coordinated Universal Time)\",author:\"erik-landerholm\",readingTime:4,categories:[\"platform-engineering\",\"kubernetes\"],mainImage:\"/blog-images/24e9b4247f1c58e1a7bc5c20c67777fb.jpg\",imageAlt:\"A group of colorful containers\",showCTA:!0,ctaCopy:\"Empower efficient ECS resource management with Release's unified interface for seamless deployment and monitoring.\",ctaLink:\"https://release.com/signup?utm_source=blog&utm_medium=cta&utm_campaign=blog-cta&utm_content=release-offers-support-for-ecs\",relatedPosts:[\"\"],ogImage:\"/blog-images/24e9b4247f1c58e1a7bc5c20c67777fb.jpg\",excerpt:\"Release now supports the use of IaC (Infrastructure as Code: Terraform, Pulumi, etc) to create resources in ECS\",tags:[\"platform-engineering\",\"kubernetes\"],ctaButton:\"Try Release for Free\"};function d(o){let e=Object.assign({p:\"p\",h3:\"h3\",a:\"a\",span:\"span\",img:\"img\",br:\"br\",strong:\"strong\",table:\"table\",thead:\"thead\",tr:\"tr\",th:\"th\",tbody:\"tbody\",td:\"td\",code:\"code\",pre:\"pre\",ol:\"ol\",li:\"li\"},o.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.p,{children:\"Complex applications on AWS frequently combine not only the core code but also connections to resources and dependencies (such as ECS Tasks and Lambdas). We're excited to announce support for ECS tasks! Development, testing, and production of complex apps can now be managed through our newest Release update. This latest update includes support for the use of IaC (Infrastructure as Code, for example, Terraform and Pulumi) to create resources in ECS, which you can manage in Release right alongside your EKS resources. In this post, we'll show you some simple set-up steps to add ECS resources to Release, access them through the terminal, and view their logs.\"}),`\n`,(0,n.jsx)(e.p,{children:\"Release is a Kubernetes-first platform, but we have many customers that have described their environments in detail with an IaC and would like their environments to match their production environments as closely as possible. With our support for ECS you can now view and manage your ECS and EKS resources through Release's single administration interface. Release automatically tags and configures your ECS resources if you use our Infrastructure Runner, but we also allow you to tag and configure any ECS resources and manage them in Release, regardless of how they were deployed.\"}),`\n`,(0,n.jsxs)(e.h3,{id:\"aws-ecs-task-support\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#aws-ecs-task-support\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"AWS ECS Task Support\"]}),`\n`,(0,n.jsx)(e.p,{children:\"The first supported cloud resources are AWS ECS Tasks, but more resource types will be supported soon. Let us know what cloud resources you'd like to see supported!\"}),`\n`,(0,n.jsxs)(e.h3,{id:\"cloud-resources\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#cloud-resources\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Cloud Resources\"]}),`\n`,(0,n.jsx)(e.p,{children:\"After tagging a resource, it will show up on the Environment page in the Cloud Resources section, below your Instances.\"}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"/blog-images/4734bb86d72d86a67606a7548656013e.png\",alt:\"\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"_\",(0,n.jsx)(e.br,{}),`\n`,\"Cloud Resources like this ECS Task are listed on the environment page in a section below Instances. ECS Tasks support Terminal and Logs, which you launch by clicking the corresponding button._\"]}),`\n`,(0,n.jsxs)(e.h3,{id:\"interacting-with-cloud-resources\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#interacting-with-cloud-resources\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Interacting with Cloud Resources\"]}),`\n`,(0,n.jsx)(e.p,{children:\"Currently, once you've tagged them, ECS Tasks support a couple of actions: Terminal and Logs (note the Terminal and Logs buttons in the previous screenshot).\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"You can launch a web terminal into the task containers by clicking the \",(0,n.jsx)(e.strong,{children:\"Terminal\"}),\" button:\"]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"/blog-images/fbf49694fb352b4223c12dc6f30ea402.png\",alt:\"\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"And you can view container logs by clicking the \",(0,n.jsx)(e.strong,{children:\"Logs\"}),\" button:\"]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"/blog-images/64a479f61dc2158839d8f73c601a1be9.png\",alt:\"\"})}),`\n`,(0,n.jsxs)(e.h3,{id:\"how-to-add-cloud-resources\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#how-to-add-cloud-resources\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"How to add Cloud Resources\"]}),`\n`,(0,n.jsx)(e.p,{children:\"To add a cloud resource to your Release environments, you'll need to add a couple of tags/labels to that resource in AWS or GCP.\"}),`\n`,(0,n.jsx)(e.p,{children:\"Two tags with values are required:\"}),`\n`,(0,n.jsxs)(e.table,{children:[(0,n.jsx)(e.thead,{children:(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.th,{children:\"Tag Key\"}),(0,n.jsx)(e.th,{children:\"Tag Value\"}),(0,n.jsx)(e.th,{children:\"Location in UI\"}),(0,n.jsx)(e.th,{children:\"Env variable\"})]})}),(0,n.jsxs)(e.tbody,{children:[(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:\"releasehub.com/app\"}),(0,n.jsx)(e.td,{children:\"name\"}),(0,n.jsxs)(e.td,{children:[\"Top of the environment page. In the screenshot below, the app name is \",(0,n.jsx)(e.code,{children:\"example-voting-app\"})]}),(0,n.jsxs)(e.td,{children:[(0,n.jsx)(e.code,{children:\"RELEASE_APP_NAME\"}),\" (see default Release environment variables)\"]})]}),(0,n.jsxs)(e.tr,{children:[(0,n.jsx)(e.td,{children:\"releasehub.com/env-id\"}),(0,n.jsx)(e.td,{children:\"(the environment handle)\"}),(0,n.jsxs)(e.td,{children:[\"In the screenshot below, the environment handle is \",(0,n.jsx)(e.code,{children:\"ted3bff\"})]}),(0,n.jsxs)(e.td,{children:[(0,n.jsx)(e.code,{children:\"RELEASE_ENV_ID\"}),\" (see default Release environment variables)\"]})]})]})]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"/blog-images/ca4729f2662588d2986369bd3eab969f.png\",alt:\"\"})}),`\n`,(0,n.jsxs)(e.p,{children:[\"AWS Documentation can be found \",(0,n.jsx)(e.a,{href:\"https://docs.aws.amazon.com/AmazonECS/latest/developerguide/ecs-using-tags.html\",children:\"here\"}),\".\"]}),`\n`,(0,n.jsxs)(e.h3,{id:\"how-to-configure-the-logs\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#how-to-configure-the-logs\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"How to Configure the Logs\"]}),`\n`,(0,n.jsx)(e.p,{children:\"In order to send your ECS task logs to the Release log viewer, you must configure your ECS tasks to use the awslogs log driver:\"}),`\n`,(0,n.jsx)(e.p,{children:\"You can specify the log driver in the task definition. Inside each entry in containerDefinitions, update (or add) the logConfiguration key to specify the logDriver and options. Options must specify awslogs-group, and awslogs-stream-prefix. The logDriver must be awslogs, but you may choose your own group and stream-prefix.\"}),`\n`,(0,n.jsx)(e.p,{children:\"That section of your task definition should look something like this when you're done:\"}),`\n`,(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:\"language-yaml\",children:`{\n  \"containerDefinitions\":\n    [\n      {\n        \"logConfiguration\":\n          {\n            \"logDriver\": \"awslogs\",\n            \"options\":\n              {\n                \"awslogs-group\": \"firelens-container\",\n                \"awslogs-region\": \"us-west-2\",\n                \"awslogs-create-group\": \"true\",\n                \"awslogs-stream-prefix\": \"firelens\",\n              },\n          },\n      },\n    ],\n}\n`})}),`\n`,(0,n.jsxs)(e.p,{children:[\"For more details, check out the \",(0,n.jsx)(e.a,{href:\"https://docs.aws.amazon.com/AmazonECS/latest/developerguide/using_awslogs.html#specify-log-config\",children:\"AWS documentation on using the awslogs log driver\"}),\".\"]}),`\n`,(0,n.jsxs)(e.h3,{id:\"how-to-configure-the-terminal\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#how-to-configure-the-terminal\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"How to Configure the Terminal\"]}),`\n`,(0,n.jsx)(e.p,{children:\"The following requirements must be met before being able to terminal into any ECS task:\"}),`\n`,(0,n.jsxs)(e.ol,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"ECS Exec needs to be enabled for the task. (\",(0,n.jsx)(e.a,{href:\"https://docs.aws.amazon.com/AmazonECS/latest/developerguide/ecs-exec.html#ecs-exec-enabling\",children:\"more info\"}),\")\"]}),`\n`,(0,n.jsxs)(e.li,{children:[\"ECS Exec IAM permissions need to be added for the task. (\",(0,n.jsx)(e.a,{href:\"https://docs.aws.amazon.com/AmazonECS/latest/developerguide/ecs-exec.html#ecs-exec-required-iam-permissions\",children:\"more info\"}),\")\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.p,{children:[\"For more details, check out the \",(0,n.jsx)(e.a,{href:\"https://docs.aws.amazon.com/AmazonECS/latest/developerguide/ecs-exec.html\",children:\"AWS documentation on enabling ECS Exec\"}),\" and the best practices around it.\"]}),`\n`,(0,n.jsx)(e.p,{children:\"After configuring the ECS task, use the Cloud Resources refresh button and you should be able to choose the container to terminal into. Note that Release will gray out the terminal button for containers that are not running or tasks that do not have ECS Exec enabled.\"}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"/blog-images/3d39dc71386de1d85df54a097a497bd3.png\",alt:\"\"})}),`\n`,(0,n.jsxs)(e.h3,{id:\"try-it-yourself\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#try-it-yourself\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Try it Yourself\"]}),`\n`,(0,n.jsxs)(e.p,{children:[\"At Release we always try to support the infrastructure our customers have in place while allowing them to take advantage of any new offerings from AWS. If you would like to manage your containers, regardless of which container management service you use, read through our \",(0,n.jsx)(e.a,{href:\"https://docs.releasehub.com/reference-documentation/cloud-resources\",children:\"documentation\"}),\" and/or schedule a \",(0,n.jsx)(e.a,{href:\"https://releasehub.com/book-a-demo\",children:\"demo\"}),\"!\"]})]})}function E(o={}){let{wrapper:e}=o.components||{};return e?(0,n.jsx)(e,Object.assign({},o,{children:(0,n.jsx)(d,o)})):d(o)}var k=E;return y(v);})();\n;return Component;"
  },
  "_id": "blog/posts/release-offers-support-for-ecs.mdx",
  "_raw": {
    "sourceFilePath": "blog/posts/release-offers-support-for-ecs.mdx",
    "sourceFileName": "release-offers-support-for-ecs.mdx",
    "sourceFileDir": "blog/posts",
    "contentType": "mdx",
    "flattenedPath": "blog/posts/release-offers-support-for-ecs"
  },
  "type": "BlogPost",
  "computedSlug": "release-offers-support-for-ecs"
}