---
title: Release Offers Support for ECS
summary: >-
  Release now supports the use of IaC (Infrastructure as Code: Terraform,
  Pulumi, etc) to create resources in ECS
publishDate: "Fri Apr 21 2023 16:55:46 GMT+0000 (Coordinated Universal Time)"
author: erik-landerholm
readingTime: 4
categories: &ref_0
  - platform-engineering
  - kubernetes
mainImage: /blog-images/24e9b4247f1c58e1a7bc5c20c67777fb.jpg
imageAlt: A group of colorful containers
showCTA: true
ctaCopy: >-
  Empower efficient ECS resource management with Release's unified interface for
  seamless deployment and monitoring.
ctaLink: >-
  https://release.com/signup?utm_source=blog&utm_medium=cta&utm_campaign=blog-cta&utm_content=release-offers-support-for-ecs
relatedPosts:
  - ""
ogImage: /blog-images/24e9b4247f1c58e1a7bc5c20c67777fb.jpg
excerpt: >-
  Release now supports the use of IaC (Infrastructure as Code: Terraform,
  Pulumi, etc) to create resources in ECS
tags: *ref_0
ctaButton: Try Release for Free
---

Complex applications on AWS frequently combine not only the core code but also connections to resources and dependencies (such as ECS Tasks and Lambdas). We’re excited to announce support for ECS tasks! Development, testing, and production of complex apps can now be managed through our newest Release update. This latest update includes support for the use of IaC (Infrastructure as Code, for example, Terraform and Pulumi)  to create resources in ECS, which you can manage in Release right alongside your EKS resources. In this post, we'll show you some simple set-up steps to add ECS resources to Release, access them through the terminal, and view their logs.

Release is a Kubernetes-first platform, but we have many customers that have described their environments in detail with an IaC and would like their environments to match their production environments as closely as possible. With our support for ECS you can now view and manage your ECS and EKS resources through Release’s single administration interface. Release automatically tags and configures your ECS resources if you use our Infrastructure Runner, but we also allow you to tag and configure any ECS resources and manage them in Release, regardless of how they were deployed.

### AWS ECS Task Support

The first supported cloud resources are AWS ECS Tasks, but more resource types will be supported soon. Let us know what cloud resources you’d like to see supported!

### Cloud Resources

After tagging a resource, it will show up on the Environment page in the Cloud Resources section, below your Instances.

![](/blog-images/4734bb86d72d86a67606a7548656013e.png)

_  
Cloud Resources like this ECS Task are listed on the environment page in a section below Instances. ECS Tasks support Terminal and Logs, which you launch by clicking the corresponding button._

### Interacting with Cloud Resources

Currently, once you've tagged them, ECS Tasks support a couple of actions: Terminal and Logs (note the Terminal and Logs buttons in the previous screenshot).

You can launch a web terminal into the task containers by clicking the **Terminal** button:

![](/blog-images/fbf49694fb352b4223c12dc6f30ea402.png)

And you can view container logs by clicking the **Logs** button:

![](/blog-images/64a479f61dc2158839d8f73c601a1be9.png)

### How to add Cloud Resources

To add a cloud resource to your Release environments, you'll need to add a couple of tags/labels to that resource in AWS or GCP.

Two tags with values are required:

                                                           

| Tag Key | Tag Value | Location in UI | Env variable |
| ------- | --------- | -------------- | ------------ |

|      
releasehub.com/app

     

name

    |      Tag Key     |      Top of the environment page. In the screenshot below, the app name is      

example-voting-app

    |      

RELEASE_APP_NAME

     (see default Release environment variables)     |
|      

releasehub.com/env-id

    |      (the environment handle)     |      In the screenshot below, the environment handle is      

ted3bff

    |      

RELEASE_ENV_ID

     (see default Release environment variables)     |

![](/blog-images/ca4729f2662588d2986369bd3eab969f.png)

AWS Documentation can be found [here](https://docs.aws.amazon.com/AmazonECS/latest/developerguide/ecs-using-tags.html).

### How to Configure the Logs

In order to send your ECS task logs to the Release log viewer, you must configure your ECS tasks to use the awslogs log driver:

You can specify the log driver in the task definition. Inside each entry in containerDefinitions, update (or add) the logConfiguration key to specify the logDriver and options. Options must specify awslogs-group, and awslogs-stream-prefix. The logDriver must be awslogs, but you may choose your own group and stream-prefix.

That section of your task definition should look something like this when you’re done:

```yaml

‍
{
   "containerDefinitions": [
       {
           "logConfiguration": {
               "logDriver": "awslogs",
               "options": {
                   "awslogs-group": "firelens-container",
                   "awslogs-region": "us-west-2",
                   "awslogs-create-group": "true",
                   "awslogs-stream-prefix": "firelens"
               }
           }
       }
   ]
}

```

For more details, check out the [AWS documentation on using the awslogs log driver](https://docs.aws.amazon.com/AmazonECS/latest/developerguide/using_awslogs.html#specify-log-config).

### How to Configure the Terminal

The following requirements must be met before being able to terminal into any ECS task:

1.  ECS Exec needs to be enabled for the task. ([more info](https://docs.aws.amazon.com/AmazonECS/latest/developerguide/ecs-exec.html#ecs-exec-enabling))
2.  ECS Exec IAM permissions need to be added for the task. ([more info](https://docs.aws.amazon.com/AmazonECS/latest/developerguide/ecs-exec.html#ecs-exec-required-iam-permissions))

For more details, check out the [AWS documentation on enabling ECS Exec](https://docs.aws.amazon.com/AmazonECS/latest/developerguide/ecs-exec.html) and the best practices around it.

After configuring the ECS task, use the Cloud Resources refresh button and you should be able to choose the container to terminal into. Note that Release will gray out the terminal button for containers that are not running or tasks that do not have ECS Exec enabled.

![](/blog-images/3d39dc71386de1d85df54a097a497bd3.png)

### Try it Yourself

At Release we always try to support the infrastructure our customers have in place while allowing them to take advantage of any new offerings from AWS. If you would like to manage your containers, regardless of which container management service you use, read through our [documentation](https://docs.releasehub.com/reference-documentation/cloud-resources) and/or schedule a [demo](https://releasehub.com/book-a-demo)!
